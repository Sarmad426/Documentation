# Clerk Auth For Next js 13 (App Router)

Create a auth project on <https://dashboard.clerk.com/>


#### Install Clerk for Nextjs

``` npm
npm install @clerk/nextjs
```

#### Then add the project keys to your `.env.local` file

in your root project. This file can also be `.env`.


```
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=••••••••••••••••••••••••••••••••••
CLERK_SECRET_KEY=sk_test_••••••••••••••••••••••••••••••••••

NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/
```
**Note:**  This is just an example key. Put your own project keys from clerk.


#### Then Wrap entire app in `<ClerkProvider></ClerkProvider>`

**In your `app/layout.tsx` file**


``` tsx
import './globals.css'
import { ClerkProvider } from '@clerk/nextjs'


export const metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <ClerkProvider>
      <html lang="en">
        <body>{children}</body>
      </html>
    </ClerkProvider>
  )
}

```

#### Create a `middleware.ts` file in the root project

``` ts
import { authMiddleware } from "@clerk/nextjs"

export default authMiddleware({});

export const config = {
  matcher: ["/((?!.*\\..*|_next).*)", "/", "/(api|trpc)(.*)"],
};
```


#### Create a sign-up route like this

`app/sign-up/[[...sign-up]]/page.tsx`

```tsx
import { SignUp } from "@clerk/nextjs";

export default function Page() {
  return <SignUp />;
}
```


#### Similarly Create a sign-in route like this

`app/sign-up/[[...sign-up]]/page.tsx`

```tsx
import { SignIn } from "@clerk/nextjs";

export default function Page() {
  return <SignIn />;
}
```

#### Use `UserButton` from clerk in the `app/page.tsx`


```tsx
import { UserButton } from "@clerk/nextjs";

export default function Home() {
  return (
    <div>
      <UserButton afterSignOutUrl="/"/>
    </div>
  )
}
```